<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ACUVUE Lens FAQ System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,400&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ── Header ─────────────────────────────────────────────────────────── -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <span class="logo-icon">⬡</span>
        <span class="logo-text">ACUVUE Lens FAQ</span>
      </div>
    </div>
  </header>

  <!-- ── Main ───────────────────────────────────────────────────────────── -->
  <main class="main">

    <!-- Left column -->
    <aside class="sidebar">

      <!-- Upload section -->
      <section class="card" id="upload-section">
        <div class="card-header">
          <span class="card-icon">↑</span>
          <h2 class="card-title">Upload PDF</h2>
        </div>

        <!-- Drop zone -->
        <div class="drop-zone" id="drop-zone">
          <input type="file" id="file-input" accept=".pdf" hidden />
          <div class="drop-inner" id="drop-inner">
            <div class="drop-icon">PDF</div>
            <p class="drop-text">Drop a file here or <button class="link-btn" id="browse-btn">browse</button></p>
            <p class="drop-hint">Only .pdf files · Max 50 MB</p>
          </div>
          <!-- Selected file display (hidden by default) -->
          <div class="file-selected" id="file-selected" hidden>
            <span class="file-icon">▣</span>
            <span class="file-name" id="file-name"></span>
            <button class="icon-btn" id="clear-file-btn" title="Remove">✕</button>
          </div>
        </div>

        <button class="btn btn-primary" id="upload-btn" disabled>
          <span class="btn-text">Upload</span>
          <span class="spinner" hidden></span>
        </button>

        <!-- Upload status message -->
        <p class="status-msg" id="upload-msg" hidden></p>
      </section>

      <!-- Document selector section -->
      <section class="card" id="docs-section">
        <div class="card-header">
          <span class="card-icon">≡</span>
          <h2 class="card-title">Documents</h2>
          <button class="icon-btn refresh-btn" id="refresh-btn" title="Refresh list">↺</button>
        </div>

        <div class="select-wrap">
          <select id="doc-select">
            <option value="">— Search all documents —</option>
          </select>
        </div>

        <!-- Document list (shown when documents exist) -->
        <ul class="doc-list" id="doc-list"></ul>
      </section>


      <!-- Topics section -->
      <section class="card" id="topics-section" hidden>
        <div class="card-header topics-toggle" id="topics-toggle">
          <span class="card-icon">◈</span>
          <h2 class="card-title">Topics</h2>
          <span class="topics-hint">click to expand</span>
          <span class="topics-chevron" id="topics-chevron">▾</span>
        </div>
        <div class="topics-chips" id="topics-chips" hidden></div>
      </section>

    </aside>

    <!-- Right column -->
    <section class="content">

      <!-- Question section -->
      <section class="card" id="question-section">
        <div class="card-header">
          <span class="card-icon">?</span>
          <h2 class="card-title">Ask a Question</h2>
        </div>

        <div class="question-wrap">
          <textarea
            id="question-input"
            class="question-input"
            placeholder="e.g. What care regimen should be used with ACUVUE lenses?"
            rows="3"
          ></textarea>
        </div>

        <div class="question-actions">
          <span class="scope-label" id="scope-label">Searching all documents</span>
          <button class="btn btn-primary" id="ask-btn" disabled>
            <span class="btn-text">Ask</span>
            <span class="spinner" hidden></span>
          </button>
        </div>
      </section>

      <!-- Answer section (hidden until first answer) -->
      <section class="card answer-card" id="answer-section" hidden>

        <!-- Answer header with confidence -->
        <div class="answer-header">
          <div class="card-header" style="margin-bottom:0">
            <span class="card-icon">✦</span>
            <h2 class="card-title">Answer</h2>
          </div>
          <div class="confidence-wrap" id="confidence-wrap">
            <span class="confidence-label">Confidence</span>
            <div class="confidence-bar-bg">
              <div class="confidence-bar-fill" id="confidence-bar"></div>
            </div>
            <span class="confidence-pct" id="confidence-pct">0%</span>
          </div>
        </div>

        <!-- Answer text -->
        <div class="answer-body" id="answer-body"></div>

        <!-- Sources -->
        <div class="sources-wrap" id="sources-wrap" hidden>
          <span class="sources-label">Sources</span>
          <div class="sources-tags" id="sources-tags"></div>
        </div>

      </section>

      <!-- Error section -->
      <div class="error-banner" id="error-banner" hidden>
        <span class="error-icon">⚠</span>
        <span id="error-msg"></span>
        <button class="icon-btn" id="dismiss-error">✕</button>
      </div>

    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>